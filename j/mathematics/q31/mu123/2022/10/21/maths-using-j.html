<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="twitter:card" content="summary_large_image" /><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>Using J for simple calculation | mlops.systems</title>
<meta name="generator" content="Jekyll v4.1.1" />
<meta property="og:title" content="Using J for simple calculation" />
<meta name="author" content="Alex Strick van Linschoten" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="I figure out how to do some basic calculation operations in J that I’ve needed for my mathematics study." />
<meta property="og:description" content="I figure out how to do some basic calculation operations in J that I’ve needed for my mathematics study." />
<link rel="canonical" href="https://mlops.systems/j/mathematics/q31/mu123/2022/10/21/maths-using-j.html" />
<meta property="og:url" content="https://mlops.systems/j/mathematics/q31/mu123/2022/10/21/maths-using-j.html" />
<meta property="og:site_name" content="mlops.systems" />
<meta property="og:image" content="https://mlops.systems/images/mu123-unit1/jblue.png" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2022-10-21T00:00:00-05:00" />
<script type="application/ld+json">
{"datePublished":"2022-10-21T00:00:00-05:00","url":"https://mlops.systems/j/mathematics/q31/mu123/2022/10/21/maths-using-j.html","@type":"BlogPosting","dateModified":"2022-10-21T00:00:00-05:00","image":"https://mlops.systems/images/mu123-unit1/jblue.png","mainEntityOfPage":{"@type":"WebPage","@id":"https://mlops.systems/j/mathematics/q31/mu123/2022/10/21/maths-using-j.html"},"author":{"@type":"Person","name":"Alex Strick van Linschoten"},"headline":"Using J for simple calculation","description":"I figure out how to do some basic calculation operations in J that I’ve needed for my mathematics study.","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/css/style.css"><link type="application/atom+xml" rel="alternate" href="https://mlops.systems/feed.xml" title="mlops.systems" /><!-- the google_analytics_id gets auto inserted from the config file -->



<script
  defer
  data-domain="mlops.systems"
  src="https://plausible.io/js/plausible.js"
></script>


<link rel="shortcut icon" type="image/x-icon" href="/images/favicon.ico"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Primer/15.2.0/primer.css" integrity="sha512-xTz2ys4coGAOz8vuV1NcQBkgVmKhsSEtjbqyMJbBHRplFuvKIUo6xhLHpAyPt9mfR6twHJgn9OgVLuqOvjeBhg==" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css" integrity="sha512-1PKOgIY59xJ8Co8+NE6FZ+LOAZKjy+KY8iq0G4B3CyeY6wYHN3yt9PW0XpSriVlkMXe40PTKnXrLnZ9+fkDaog==" crossorigin="anonymous" />

<script>
function wrap_img(fn) {
    if (document.attachEvent ? document.readyState === "complete" : document.readyState !== "loading") {
        var elements = document.querySelectorAll(".post img");
        Array.prototype.forEach.call(elements, function(el, i) {
            if (el.getAttribute("title") && (el.className != "emoji")) {
                const caption = document.createElement('figcaption');
                var node = document.createTextNode(el.getAttribute("title"));
                caption.appendChild(node);
                const wrapper = document.createElement('figure');
                wrapper.className = 'image';
                el.parentNode.insertBefore(wrapper, el);
                el.parentNode.removeChild(el);
                wrapper.appendChild(el);
                wrapper.appendChild(caption);
            }
        });
    } else { document.addEventListener('DOMContentLoaded', fn); }
}
window.onload = wrap_img;
</script>

<script>
    document.addEventListener("DOMContentLoaded", function(){
    // add link icon to anchor tags
    var elem = document.querySelectorAll(".anchor-link")
    elem.forEach(e => (e.innerHTML = '<i class="fas fa-link fa-xs"></i>'));
    });
</script>
</head>
<body><header class="site-header">

  <div class="wrapper"><a class="site-title" rel="author" href="/">mlops.systems</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/about/">About Me</a><a class="page-link" href="/search/">Search</a><a class="page-link" href="/categories/">Tags</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Using J for simple calculation</h1><p class="page-description">I figure out how to do some basic calculation operations in J that I've needed for my mathematics study.</p><p class="post-meta post-meta-title"><time class="dt-published" datetime="2022-10-21T00:00:00-05:00" itemprop="datePublished">
        Oct 21, 2022
      </time>• 
          <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <span class="p-author h-card" itemprop="name">Alex Strick van Linschoten</span></span>
       • <span class="read-time" title="Estimated read time">
    
    
      2 min read
    
</span></p>

    
      <p class="category-tags"><i class="fas fa-tags category-tags-icon"></i></i> 
      
        <a class="category-tags-link" href="/categories/#j">j</a>
        &nbsp;
      
        <a class="category-tags-link" href="/categories/#mathematics">mathematics</a>
        &nbsp;
      
        <a class="category-tags-link" href="/categories/#q31">q31</a>
        &nbsp;
      
        <a class="category-tags-link" href="/categories/#mu123">mu123</a>
        
      
      </p>
    

    </header>

  <div class="post-content e-content" itemprop="articleBody">
    <ul class="section-nav">
<li class="toc-entry toc-h2"><a href="#some-ultra-basics">Some ultra basics</a></li>
<li class="toc-entry toc-h2"><a href="#fractions-and-rational-numbers">Fractions and Rational Numbers</a></li>
<li class="toc-entry toc-h2"><a href="#assigning-variables">Assigning variables</a></li>
<li class="toc-entry toc-h2"><a href="#open-questions">Open Questions</a></li>
<li class="toc-entry toc-h2"><a href="#acknowledgements">Acknowledgements</a></li>
</ul><p>I’m curious to see if I can improve my command of <a href="https://www.jsoftware.com">some J idioms and syntax</a> while working on <a href="https://www.open.ac.uk/courses/maths/degrees/bsc-mathematics-q31">my mathematics study</a> at the Open University. People sometimes (pejoratively) say that J is just a calculator on steroids. I happen to need a calculator from time to time doing <a href="https://www.open.ac.uk/courses/modules/mu123">MU123</a>, so I figure I’ll just learn as I go. (This comes with a huge caveat to everything I write in these blogs: I could be completely wrong in how they’re working, or the language I use to describe things etc. I welcome corrections and comments below.)</p>

<p>I <a href="https://mlops.systems/j/mathematics/mu123/q31/notation/2022/10/16/notational-precedence.html">wrote last week</a> about orders of precedence and notation in J (and for mathematics in general) so I won’t repeat myself here. The summary of that all is that J evaluates from right to left in the order that expressions are encountered.</p>

<h2 id="some-ultra-basics">
<a class="anchor" href="#some-ultra-basics" aria-hidden="true"><span class="octicon octicon-link"></span></a>Some ultra basics</h2>

<p>Negative numbers are denoted by the underscore (<code class="language-plaintext highlighter-rouge">_</code>) symbol:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   3-4
_1
</code></pre></div></div>

<p>Note that there can’t be any space in between the underscore and the number that’s negative.</p>

<p>Multiplication is handled by the asterisk (<code class="language-plaintext highlighter-rouge">*</code>) symbol, much like elsewhere in the world of computers:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   3<span class="k">*</span>5
15
</code></pre></div></div>

<p>Division is handled by the percentage (<code class="language-plaintext highlighter-rouge">%</code>) symbol:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   15 % 5
3
</code></pre></div></div>

<p>While we’re here at simple operators, we can specify power operations with the caret:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   3^2
9
</code></pre></div></div>

<p>The square root is calculated by using <code class="language-plaintext highlighter-rouge">%:</code> as in the following calculation:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   %:9
3
</code></pre></div></div>

<h2 id="fractions-and-rational-numbers">
<a class="anchor" href="#fractions-and-rational-numbers" aria-hidden="true"><span class="octicon octicon-link"></span></a>Fractions and Rational Numbers</h2>

<p>In J, the letter <code class="language-plaintext highlighter-rouge">r</code> is used for the notation of rational numbers (i.e. the numbers which represent a ratio of the two integers). For example, to represent two-thirds, you would write <code class="language-plaintext highlighter-rouge">2r3</code>. J is smart about interactions between rationals (i.e. fractions), so you can use them in calculations:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   1r2 <span class="k">*</span> 6r4
3r4
</code></pre></div></div>

<p>If you want to turn a decimal number into a fraction / rational number, use <code class="language-plaintext highlighter-rouge">x:</code> as in the following example:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   x:0.3
3r10
   x:0.97
97r100
</code></pre></div></div>

<h2 id="assigning-variables">
<a class="anchor" href="#assigning-variables" aria-hidden="true"><span class="octicon octicon-link"></span></a>Assigning variables</h2>

<p>Variables and algebra hasn’t come up too much so far in MU123, but as a sneak peek, in J you assign variables using <code class="language-plaintext highlighter-rouge">=.</code> as in:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">a</span><span class="o">=</span>.4
<span class="nv">b</span><span class="o">=</span>.0.6
<span class="nv">c</span><span class="o">=</span>._0.3
</code></pre></div></div>

<h2 id="open-questions">
<a class="anchor" href="#open-questions" aria-hidden="true"><span class="octicon octicon-link"></span></a>Open Questions</h2>

<p>I’m still looking for the J way to do rounding (i.e. decimal places and significant figures). I did see <a href="https://code.jsoftware.com/wiki/Fifty_Shades_of_J/Chapter_28#Grouping_and_Rounding">one example on the J wiki</a> which went like this:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   <span class="nv">R</span><span class="o">=</span>: &lt;.@<span class="o">(</span>0.5&amp;+<span class="o">)</span>
   R 9.5
10
</code></pre></div></div>

<p>So that rounds numbers up. On the first line some kind of function is defined and then on the second line we’re applying it to the number 9.5 which rounds up to 10. I assume the logic of that function is ‘round down to the nearest integer if the decimal value is less than 0.5, but round up if it’s greater than 0.5’.</p>

<p>I’m also trying to figure out how exactly to use J in Jupyter notebooks. I use <a href="https://fastpages.fast.ai">fastpages</a> for this blog and one feature is that you can publish your notebooks and they get converted into blog pages. If I had a way to write J-backed notebooks, that’d be great. (At the moment, it seems <a href="https://github.com/tmcguirefl/J-Jupyter">these files</a> are the main options and guides.)</p>

<h2 id="acknowledgements">
<a class="anchor" href="#acknowledgements" aria-hidden="true"><span class="octicon octicon-link"></span></a>Acknowledgements</h2>

<p>I learned a lot from the ‘Numbers’ section in <a href="https://www.jsoftware.com/help/learning/19.htm">Learning J</a> while figuring out how to do these things.</p>

  </div><!-- from https://github.com/utterance/utterances -->
<script src="https://utteranc.es/client.js"
        repo="strickvl/ml-blog"
        issue-term="title"
        label="blogpost-comment"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script><a class="u-url" href="/j/mathematics/q31/mu123/2022/10/21/maths-using-j.html" hidden></a>
</article>
      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col">
        <p class="feed-subscribe">
          <a href="/feed.xml">
            <svg class="svg-icon orange">
              <use xlink:href="/assets/minima-social-icons.svg#rss"></use>
            </svg><span>Subscribe</span>
          </a>
        </p>
      </div>
      <div class="footer-col">
        <p>A place to share my technical learnings.</p>
      </div>
    </div>

    <div class="social-links"><ul class="social-media-list"><li><a rel="me" href="https://github.com/strickvl" target="_blank" title="strickvl"><svg class="svg-icon grey"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg></a></li><li><a rel="me" href="https://twitter.com/strickvl" target="_blank" title="strickvl"><svg class="svg-icon grey"><use xlink:href="/assets/minima-social-icons.svg#twitter"></use></svg></a></li></ul>
</div>

  </div>

</footer>
</body>

</html>
